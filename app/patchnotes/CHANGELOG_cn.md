# 📦 更新日志

---

## 🆕 版本 2.5.0

### 🆕 新功能：Giant Tracker
- Killfeed 插件中的独立窗口，用于追踪并可视化 Giants、Violets 和 Bosses 的击杀统计。

### ✨ 改进
- Killfeed：怪物追踪手风琴现在为每个等级提供“Kills”按钮，可查看单次击杀列表。
- Killfeed：现在可以直接在该列表中删除单次击杀记录。

### 🐛 修复
- Killfeed：删除单次击杀时，现在会稳定更新 AppData 历史文件（daily/YYYY-MM-DD.csv、history.csv）以及侧边栏状态。

---
## 🆕 版本 2.4.1

### ✨ 改进
- 击杀提示：改进怪物识别
  - 新的识别权重：怪物 HP > 怪物等级 > 怪物元素
- 击杀提示：怪物追踪现在会统计已击杀的怪物
- 更新怪物参考数据
- 优化“选择布局”对话框设计
- 优化“管理档案（登出）”对话框设计

### 🐛 修复
- 覆盖层不再遮挡关闭对话框

### 🧹 清理
- 渲染器架构模块化（内部重构）
- 内部数据文件夹 `api_fetch/` 重命名为 `cache/`
- AppData 目录结构重新整理：数据现在位于 AppData\Roaming\Flyff-U-Launcher\user
- 自动迁移：首次启动时会无缝迁移现有数据，并显示进度

:::accordion[新存储路径]
所有用户数据现位于 `%APPDATA%\Flyff-U-Launcher\user\`：

- `user/config/settings.json` — 客户端设置
- `user/config/features.json` — 功能开关
- `user/profiles/profiles.json` — 启动器配置文件
- `user/profiles/rois.json` — ROI 校准
- `user/profiles/ocr-timers.json` — OCR 计时器
- `user/ui/themes.json` — 主题
- `user/ui/tab-layouts.json` — 标签页布局
- `user/ui/tab-active-color.json` — 活动标签页颜色
- `user/shopping/item-prices.json` — 高级购物清单价格
- `user/plugin-data/` — 插件设置
- `user/cache/` — API 抓取数据和图标
- `user/logs/` — 诊断日志
:::

---

## 🆕 版本 2.3.0

### 🐛 修复

- 当游戏在独立的多窗口会话中运行时，OCR 数值（侧边面板）现在能够正确识别
- ROI 校准不再错误地打开新会话，而是使用已有的游戏窗口
- OCR 现在可靠地使用内置的 Tesseract — 不再需要单独安装

### ✨ 改进

- 文档手风琴现在使用原生 HTML5 元素（不再需要 JavaScript）

---

## 🆕 版本 2.2.0

### ➕ 新功能

**布局**
- 重新设计布局功能，支持的游戏显示：
  - 1x1 单窗口
  - 1x2 分屏
  - 1x3、1x4、2x2、3+2、2x3、4+3、2x4 多屏
- 在标签栏添加进度条，显示打开游戏画面的进度
- 多窗口系统：可打开多个独立的会话窗口

**快捷键** — 可自由分配的组合键（2-3 个键）
- 隐藏覆盖层
- 侧边面板开/关
- 标签栏开/关
- 将活动窗口截图保存到 `C:\Users\<USER>\Pictures\Flyff-U-Launcher\`
- 上一个标签 / 下一个标签
- 下一个窗口实例
- 将 CD 计时器重置为 00:00，图标等待点击
- 打开 FCoins 计算器
- 打开 Premium 购物清单

**新的客户端设置**
- 启动器宽度 / 高度
- 顺序加载网格标签
- 布局的标签显示
- 高亮当前网格视图
- 布局在更改时自动刷新
- 状态消息持续时间
- FCoins 汇率
- 标签布局显示模式（紧凑、分组、分离、迷你网格）

**菜单与工具**
- 在标签栏新增 “工具（星形图标）” 菜单。该菜单会隐藏浏览器视图，角色保持登录。
  - 内部工具：FCoins 转 Penya 计算器、Premium 购物清单
  - 外部链接：Flyff Universe 主页、Flyffipedia、Flyffulator、Skillulator
- 标签栏新增 “键盘” 菜单，显示配置的快捷键。该菜单会隐藏浏览器视图，角色保持登录。

**文档**
- 设置菜单新增 “文档” 选项卡，提供多语言说明：
  - 创建档案、创建布局、数据路径与持久化、API 获取、
    CD 计时器、击杀提示、FCoins <-> Penya、Premium 购物清单
- 文本已翻译成所有可用语言，部分图片尚缺。回退：英文界面 → 德文界面。

**其他**
- 新增主题 “Steel Ruby”
- 启动器在新闻提要下方显示已打开档案列表
- 设置 → 支持 中新增捐赠功能
- 多标签关闭对话框新增 “拆分为单个标签” 选项
- 在已有会话运行时打开档案，会询问是添加到当前窗口还是创建新窗口

### 🧹 清理

- 启动器窗口现在有最小尺寸，且在此范围内保持响应式
- 启动器默认窗口尺寸从 980×640 改为 1200×970
- 设置菜单新增 “X” 按钮
- 调整设置窗口尺寸
- 修改档案和布局的 “管理” 菜单，现包含 “重命名” 与 “删除”
- 布局选择中新增 “档案” 按钮，显示布局包含的档案
- 为放大标签栏的按钮添加图标
- 在关闭对话框中突出显示活动标签

### 🐛 修复

- 修复了切换标签时导致游戏被隐藏的错误

### 🐛 已知问题

- 偶尔会出现侧边面板的文本输入未正确接收
- 覆盖层会显示在对话框中，例如 “关闭” 和 “选择布局” — 2.4.1 已修复 ✅
- 窗口模式下不显示侧边面板


---

## 🆕 版本 2.1.1

### ✨ 改进

- 覆盖层不再遮挡外部窗口。窗口不活动时会自动隐藏。
- 修复移动窗口时覆盖层闪烁的问题。移动时也会正确隐藏覆盖层。
- 布局中的最后一个标签在启用分屏前会获得足够的加载时间。
- 退出对话框中除“取消”外的所有操作现在都标记为危险按钮（红色）。保留“取消”为中立。
- 设置菜单新增补丁说明标签页，按当前选择的语言显示。

### ➕ 新功能

- 在 CD 计时器末尾新增 “+” 按钮

### 🧹 清理

- 移除图标对话框中未使用的标签
- 移除右上角未使用的 “RM-EXP” 徽章

---

## 🔄 版本 2.1.0

### 🚀 新内容

- 现在可以直接通过启动器执行更新

---

## 🔄 版本 2.0.2

### 🐛 修复

- 修复侧边面板显示为空的问题
- 修正翻译错误
